<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title></title>
  <meta name="author" content="">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <base href="iarigby.github.io/sircxvilia" target="_blank">
  <link href="css/style.css" rel="stylesheet">
</head>

<body>

  <p>Hello, world!</p>

  <script>
    base_href = window.document.location.origin
    function Get(yourUrl, callback){
        const Httpreq = new XMLHttpRequest();
        Httpreq.open("GET",yourUrl,true);
        Httpreq.onload = (res) => callback(res)
    }
    function getListing(imageUrl, text) {
        const li = document.createElement('div')
        const image = document.createElement('img')
        image.src=imageUrl
        li.appendChild(image)
        li.appendChild(document.createTextNode(text))
        return li
    }
    function main() {
        Get(base_href + '/data/list.json', (res) => {
            console.log(res)
            const list = JSON.parse(res.responseText)
            const url = 'data/images/kaladze.jpg'
            const text = 'abc'
            console.log(list)
            document.getElementById('list').appendChild(getListing(url, text))
        })
    }
    main()
  </script>
</body>
